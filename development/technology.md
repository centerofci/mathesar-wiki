---
title: Technology
description: Notes on technology
published: true
date: 2021-04-26T18:02:25.497Z
tags: 
editor: markdown
dateCreated: 2021-04-20T19:56:46.300Z
---

# Stack
Mathesar is built using:

- [PostgreSQL](https://www.postgresql.org/) for the data storage
- [Python](https://www.python.org/) for the backend
- [SQLAlchemy](https://www.sqlalchemy.org/) to talk to the database
- [Django](https://www.djangoproject.com/) for the web application and API 
- [Svelte](https://svelte.dev/) for the frontend

# Postgres
Information on Postgres related projects and tools.

## Articles
- [Migration Opinions](https://github.com/graphile/migrate#opinions) opinions on writing database migrations in Postgres. Invaluable for long-running production production projects with breaking schema changes.
- [Evaluating PostGraphile For Your Project](https://www.graphile.org/postgraphile/evaluating/): The section on "Schema Driven APIs" here has some great insights.
- [Advice on Indexes in Postgres](https://www.graphile.org/postgraphile/postgresql-indexes/)
- [10 Things I Hate About PostgreSQL](https://rbranson.medium.com/10-things-i-hate-about-postgresql-20dbab8c2791)

## Projects
- The [graphile](https://github.com/graphile) organization on GitHub is full of postgres-related projects written in TypeScript. Clean,  straightforward codebases with very good documentation.

### Introspection + API Generation
- [PostgREST](https://github.com/PostgREST/postgrest) - Introspects, generates, and serves OpenAPI-complaint REST apis from Postgres databases.
- [Postgraphile](https://github.com/graphile/postgraphile) The same thing, but for GraphQL and written in TypeScript. They have really rich documentation that gets into a lot of interesting Postgres best practices and architectural patterns.
	- A package for realtime communication with Postgres `LISTEN / NOTIFY` https://github.com/graphile/graphile-engine/tree/v4/packages/pg-pubsub

# Previous Discussion

## Frontend Stack
We considered these options for the frontend:
- A separate frontend codebase that consumes a JSON API generated by Django.
- Using "HTML over the wire" frameworks such as:
	- [Hotwire](https://hotwire.dev/) (Turbo + Stimulus)
		- [early stage integration with Django](https://github.com/hotwire-django/turbo-django)
		- [HN discussion](https://news.ycombinator.com/item?id=23330881)
	- [Sockpuppet](https://github.com/jonathan-s/django-sockpuppet)
	- [HTMX](https://htmx.org/)
	- [Django Unicorn](https://www.django-unicorn.com/)

See ["Deciding the frontend framework" on GitHub Discussions](https://github.com/centerofci/mathesar/discussions/55) for more detail.

## Django Tenants

> `django-tenants` will not work for us because it uses schemas to separate tenants, and we support multiple schemas per user.
{.is-danger}

[Django-Tenants](https://django-tenants.readthedocs.io) is an app for Django-powered SaaS applications to have multiple tenants via PostgreSQL schemas. Currently, there is no built-in support for multitenancy in Django.

Django-Tenants [can identify tenants based on subdomins or subdirectories](https://django-tenants.readthedocs.io/en/latest/install.html#sub-folder-support) and provides:
- shared common data and tenant-specific data
- tenant-specific routing

### Constraints
Requires the application to use
- Django as the framework
- PostgreSQL as the database

### Reading
- [Multi-tenant SaaS database tenancy patterns](https://docs.microsoft.com/en-us/azure/azure-sql/database/saas-tenancy-app-design-patterns)